<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Doctor Love Quiz</title>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
body{
    margin:0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg,#f5faff,#e3f2fd);
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    overflow:hidden;
}

.container{
    width:420px;
    background:white;
    padding:30px;
    border-radius:20px;
    box-shadow:0 15px 40px rgba(0,0,0,0.1);
    text-align:center;
    position:relative;
    transition:opacity .5s ease, transform .5s ease;
}

h1{
    color:#2E86C1;
    margin-bottom:10px;
}

.ecg{
    height:40px;
    background:linear-gradient(to right,transparent 0%, #2E86C1 50%, transparent 100%);
    animation: pulse 1.5s infinite;
}

@keyframes pulse{
    0%{opacity:0.3}
    50%{opacity:1}
    100%{opacity:0.3}
}

button{
    display:block;
    width:100%;
    margin:10px 0;
    padding:12px;
    border:none;
    border-radius:12px;
    font-size:16px;
    cursor:pointer;
    background:#2E86C1;
    color:white;
    transition:all .3s ease;
}

button:hover{
    transform:scale(1.05);
}

.custom-modal{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.4);
    display:flex;
    justify-content:center;
    align-items:center;
    visibility:hidden;
    opacity:0;
    transition:all .3s ease;
}

.modal-card{
    background:white;
    padding:25px;
    border-radius:15px;
    text-align:center;
    width:300px;
    transform:scale(0.8);
    transition:all .3s ease;
}

.custom-modal.active{
    visibility:visible;
    opacity:1;
}

.custom-modal.active .modal-card{
    transform:scale(1);
}

.final-buttons{
    position:relative;
    height:120px;
}

#yesBtn{
    background:#27AE60;
}

#noBtn{
    background:#E74C3C;
    position:absolute;
    left:0;
}
</style>
</head>

<body>

<div class="container" id="quizBox">
    <h1>ü©∫ Love Diagnosis</h1>
    <div class="ecg"></div>
    <h3 id="question"></h3>
    <div id="answers"></div>
</div>

<div class="custom-modal" id="modal">
    <div class="modal-card">
        <h2>üíñ Correct Diagnosis!</h2>
        <p>Your heart is perfectly healthy.</p>
        <button onclick="closeModal()">Continue</button>
    </div>
</div>

<script>
const questions=[
{
    question:"What beats faster when I see you?",
    answers:["Heart","Brain","Liver"],
    correct:0
},
{
    question:"What is the cure for loneliness?",
    answers:["Medicine","You","Surgery"],
    correct:1
},
{
    question:"Final Diagnosis?",
    answers:["Love","Forever","Together"],
    correct:"all"
}
];

let current=0;
let yesScale=1;
let clickCount=0;

function loadQuestion(){
    const q=questions[current];
    document.getElementById("question").innerText=q.question;
    const answersDiv=document.getElementById("answers");
    answersDiv.innerHTML="";

    q.answers.forEach((ans,index)=>{
        const btn=document.createElement("button");
        btn.innerText=ans;
        btn.onclick=()=>checkAnswer(index);
        answersDiv.appendChild(btn);
    });
}

function checkAnswer(index){
    const q=questions[current];

    if(q.correct==="all" || index===q.correct){
        launchConfetti();
        showModal();
    }
}

function showModal(){
    document.getElementById("modal").classList.add("active");
}

function closeModal(){
    document.getElementById("modal").classList.remove("active");
    current++;
    if(current<questions.length){
        loadQuestion();
    }else{
        showFinalTrap();
    }
}

function launchConfetti(){
    confetti({
        particleCount:100,
        spread:70,
        origin:{y:0.6}
    });
}

function showFinalTrap(){
    const box=document.getElementById("quizBox");
    box.innerHTML=`
        <h1>üíò Prescription</h1>
        <h3>Will you be my forever patient?</h3>
        <div class="final-buttons">
            <button id="yesBtn">YES üíñ</button>
            <button id="noBtn">NO üòè</button>
        </div>
    `;

    const yesBtn=document.getElementById("yesBtn");
    const noBtn=document.getElementById("noBtn");

    yesBtn.onclick=()=>{
        launchConfetti();
        box.innerHTML="<h1>üíñ Diagnosis: Hopelessly In Love üíñ</h1>";
    };

    noBtn.onmouseover=()=>{
        clickCount++;
        yesScale+=0.2;
        yesBtn.style.transform=`scale(${yesScale})`;
        noBtn.style.transform=`scale(${1 - clickCount*0.1})`;
        noBtn.style.left=Math.random()*200+"px";
        noBtn.style.top=Math.random()*50+"px";
    };
}

loadQuestion();
</script>

</body>
</html>
